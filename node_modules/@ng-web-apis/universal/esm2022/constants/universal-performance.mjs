import { WA_PERFORMANCE } from '@ng-web-apis/common';
export function performanceFactory() {
    return (safeRequire('node:perf_hooks')?.performance ||
        safeRequire('perf_hooks')?.performance ||
        globalThis.performance);
}
export const UNIVERSAL_PERFORMANCE = {
    provide: WA_PERFORMANCE,
    deps: [],
    useFactory: performanceFactory,
};
function safeRequire(modulePath) {
    try {
        return require(modulePath);
    }
    catch {
        return undefined;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdmVyc2FsLXBlcmZvcm1hbmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vbGlicy91bml2ZXJzYWwvc3JjL2NvbnN0YW50cy91bml2ZXJzYWwtcGVyZm9ybWFuY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLHFCQUFxQixDQUFDO0FBRW5ELE1BQU0sVUFBVSxrQkFBa0I7SUFDOUIsT0FBTyxDQUNILFdBQVcsQ0FBNkIsaUJBQWlCLENBQUMsRUFBRSxXQUFXO1FBQ3ZFLFdBQVcsQ0FBNkIsWUFBWSxDQUFDLEVBQUUsV0FBVztRQUNsRSxVQUFVLENBQUMsV0FBVyxDQUN6QixDQUFDO0FBQ04sQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUFvQjtJQUNsRCxPQUFPLEVBQUUsY0FBYztJQUN2QixJQUFJLEVBQUUsRUFBRTtJQUNSLFVBQVUsRUFBRSxrQkFBa0I7Q0FDakMsQ0FBQztBQUVGLFNBQVMsV0FBVyxDQUFJLFVBQWtCO0lBQ3RDLElBQUk7UUFDQSxPQUFPLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUM5QjtJQUFDLE1BQU07UUFDSixPQUFPLFNBQVMsQ0FBQztLQUNwQjtBQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7RmFjdG9yeVByb3ZpZGVyfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7V0FfUEVSRk9STUFOQ0V9IGZyb20gJ0BuZy13ZWItYXBpcy9jb21tb24nO1xuXG5leHBvcnQgZnVuY3Rpb24gcGVyZm9ybWFuY2VGYWN0b3J5KCk6IFBlcmZvcm1hbmNlIHtcbiAgICByZXR1cm4gKFxuICAgICAgICBzYWZlUmVxdWlyZTx7cGVyZm9ybWFuY2U6IFBlcmZvcm1hbmNlfT4oJ25vZGU6cGVyZl9ob29rcycpPy5wZXJmb3JtYW5jZSB8fFxuICAgICAgICBzYWZlUmVxdWlyZTx7cGVyZm9ybWFuY2U6IFBlcmZvcm1hbmNlfT4oJ3BlcmZfaG9va3MnKT8ucGVyZm9ybWFuY2UgfHxcbiAgICAgICAgZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZVxuICAgICk7XG59XG5cbmV4cG9ydCBjb25zdCBVTklWRVJTQUxfUEVSRk9STUFOQ0U6IEZhY3RvcnlQcm92aWRlciA9IHtcbiAgICBwcm92aWRlOiBXQV9QRVJGT1JNQU5DRSxcbiAgICBkZXBzOiBbXSxcbiAgICB1c2VGYWN0b3J5OiBwZXJmb3JtYW5jZUZhY3RvcnksXG59O1xuXG5mdW5jdGlvbiBzYWZlUmVxdWlyZTxUPihtb2R1bGVQYXRoOiBzdHJpbmcpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gcmVxdWlyZShtb2R1bGVQYXRoKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iXX0=